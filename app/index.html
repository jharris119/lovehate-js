<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>lovehate</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
    <!-- build:js scripts/vendor/modernizr.js -->
    <script src="bower_components/modernizr/modernizr.js"></script>
    <!-- endbuild -->

  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->


    <div class="container">
      <div class="header">
        <ul class="nav nav-pills pull-right">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
        <h3 class="text-muted">lovehate</h3>
      </div>

      <div id="canvas" class="jumbotron"></div>

      <div id="controls">
        <ol class="list-group clearfix">
          <script id="list-template" type="text/template">
            <li class="list-group-item col-md-2" data-obj="${ix}" style="color: ${color}">
              <h3>${ix + 1}: <span class="glyphicon glyphicon-pause"></span></h3>
            </li>
          </script>
        </ol>
      </div>

      <div class="footer">
        <p><span class="glyphicon glyphicon-heart"></span> from the Yeoman team</p>
      </div>
    </div>

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/affix.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/alert.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/button.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/carousel.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/collapse.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/dropdown.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tab.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/transition.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/scrollspy.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/modal.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tooltip.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/popover.js"></script>
    <script src="bower_components/lodash/dist/lodash.compat.js"></script>
    <script src="bower_components/raphael/raphael.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:js({app,.tmp}) scripts/*.js -->
    <script src="scripts/svgcolors.js"></script>
    <script src="scripts/main.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        var k  = lovehate(document.getElementById('canvas'));
        var people = k.people;

        var $e = $('#controls ol');

        _.each(people, function(p, i) {
          var compiled = _.template($('#list-template').html())

          $e.append(_.template($('#list-template').html(), {
            'color': p.getElement().attr('fill'),
            'ix': i
          }));
        });

        $e.on('click', 'li', function(evt) {
          var person = people[this.dataset.obj];
          if (person.timerId) {
            k.pause(person);
          }
          else {
            k.next(person);
          }
        });
        $(document).keypress(function(evt) {
          if (evt.which === 80 || evt.which === 112) {
            k.pause();
            return;
          }

          try {
            k.doMove(people[evt.which - 49]);
          }
          catch(e) {
            console.warn('Received event with "which" = ' + evt.which);
          }
        });
      });
    </script>
    <!-- endbuild -->
</body>
</html>
